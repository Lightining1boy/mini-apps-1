class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      newAccount: {},
      checkoutClicked: false,
      page1Clicked: false,
      page2Clicked: false,
      page3Clicked: false
    };
    this.checkOutHandler = this.checkOutHandler.bind(this);
    this.next1Handler = this.next1Handler.bind(this);
    this.next2Handler = this.next2Handler.bind(this);
    this.next3Handler = this.next3Handler.bind(this);
    this.purchaseMade = this.purchaseMade.bind(this);
  }

  checkOutHandler(event) {
    this.setState({
      checkoutClicked: true
    });
    event.preventDefault();
  }

  next1Handler(info) {
    Object.assign(this.state.newAccount, info);
    this.setState({
      page1Clicked: true
    });
  }

  next2Handler(info) {
    Object.assign(this.state.newAccount, info);
    this.setState({
      page2Clicked: true
    });
    console.log(this.state.newAccount);
  }

  next3Handler(info) {
    console.log(this.state.newAccount);
    Object.assign(this.state.newAccount, info);
    this.setState({
      page3Clicked: true
    });
    console.log('JSON obj', JSON.stringify(this.state.newAccount));
  }

  purchaseMade(event) {
    event.preventDefault(); //Put a post request here

    fetch('/profiles', {
      method: 'POST',
      body: this.state.newAccount,
      headers: {
        'Content-Type': 'application/json'
      }
    }).then(console.log('Post sent')).then(this.setState({
      newAccount: {},
      checkoutClicked: false,
      page1Clicked: false,
      page2Clicked: false,
      page3Clicked: false
    })).catch(console.log('Failed to post'));
  }

  render() {
    if (this.state.checkoutClicked === false) {
      return React.createElement("div", null, React.createElement("button", {
        onClick: this.checkOutHandler
      }, "CheckOut"));
    }

    if (this.state.page1Clicked === false) {
      return React.createElement(Page1, {
        next1Handler: this.next1Handler
      });
    }

    if (this.state.page2Clicked === false) {
      return React.createElement(Page2, {
        next2Handler: this.next2Handler
      });
    }

    if (this.state.page3Clicked === false) {
      return React.createElement(Page3, {
        next3Handler: this.next3Handler
      });
    } else {
      return React.createElement("div", null, React.createElement("h1", null, "ACCOUNT INFORMATION"), React.createElement("ul", null, React.createElement("li", null, " Name- ", this.state.newAccount.name, " "), React.createElement("li", null, "Email- ", this.state.newAccount.email), React.createElement("li", null, "Password- ", this.state.newAccount.password), React.createElement("li", null, "Address- ", this.state.newAccount.address), React.createElement("li", null, "Phone Number- ", this.state.newAccount.phone), React.createElement("li", null, "Credit Card Number- ", this.state.newAccount.creditCard), React.createElement("li", null, "Experation Date- ", this.state.newAccount.expiryDate), React.createElement("li", null, "CVV- ", this.state.newAccount.CVV), React.createElement("li", null, "Zip Code- ", this.state.newAccount.zipCode)), React.createElement("button", {
        onClick: this.purchaseMade
      }, "Purchase"));
    }
  }

}

export default App; //

class Page1 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: ''
    };
    this.handleChange = this.handleChange.bind(this);
    this.handleClick = this.handleClick.bind(this);
  }

  handleChange(event) {
    const {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  handleClick(event) {
    event.preventDefault();
    this.props.next1Handler(this.state);
    this.setState({
      name: '',
      email: '',
      password: ''
    });
  }

  render() {
    return React.createElement("div", null, "Page 1", React.createElement("form", null, React.createElement("label", null, "Name", React.createElement("input", {
      name: "name",
      value: this.state.name,
      onChange: this.handleChange
    })), React.createElement("label", null, " Email", React.createElement("input", {
      name: "email",
      value: this.state.email,
      onChange: this.handleChange
    })), React.createElement("label", null, "Password", React.createElement("input", {
      name: "password",
      value: this.state.password,
      onChange: this.handleChange
    })), React.createElement("button", {
      onClick: this.handleClick
    }, "Next")));
  }

}

class Page2 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      address: '',
      phone: ''
    };
    this.handleChange = this.handleChange.bind(this);
    this.handleClick = this.handleClick.bind(this);
  }

  handleChange() {
    const {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  handleClick(event) {
    event.preventDefault();
    this.props.next2Handler(this.state);
    this.setState({
      address: '',
      phone: ''
    });
  }

  render() {
    return React.createElement("div", null, "Page 2", React.createElement("form", null, React.createElement("label", null, "Address", React.createElement("input", {
      name: "address",
      value: this.state.address,
      onChange: this.handleChange
    })), React.createElement("label", null, "Phone Number", React.createElement("input", {
      name: "phone",
      value: this.state.phone,
      onChange: this.handleChange
    })), React.createElement("button", {
      onClick: this.handleClick
    }, "Next")));
  }

}

class Page3 extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      creditCard: '',
      expiryDate: '',
      CVV: '',
      zipCode: ''
    };
    this.handleChange = this.handleChange.bind(this);
    this.handleClick = this.handleClick.bind(this);
  }

  handleChange() {
    const {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  handleClick(event) {
    event.preventDefault();
    this.props.next3Handler(this.state);
    this.setState({
      creditCard: '',
      expiryDate: '',
      CVV: '',
      zipCode: ''
    });
  }

  render() {
    return React.createElement("div", null, "Page 3", React.createElement("form", null, React.createElement("label", null, " Credit Card Number", React.createElement("input", {
      name: "creditCard",
      value: this.state.creditCard,
      onChange: this.handleChange
    })), React.createElement("label", null, " Expiry Date", React.createElement("input", {
      name: "expiryDate",
      value: this.state.expiryDate,
      onChange: this.handleChange
    })), React.createElement("label", null, " CVV", React.createElement("input", {
      name: "CVV",
      value: this.state.CVV,
      onChange: this.handleChange
    })), React.createElement("label", null, " Zip Code", React.createElement("input", {
      name: "zipCode",
      value: this.state.zipCode,
      onChange: this.handleChange
    })), React.createElement("button", {
      onClick: this.handleClick
    }, "Next")));
  }

}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJuZXdBY2NvdW50IiwiY2hlY2tvdXRDbGlja2VkIiwicGFnZTFDbGlja2VkIiwicGFnZTJDbGlja2VkIiwicGFnZTNDbGlja2VkIiwiY2hlY2tPdXRIYW5kbGVyIiwiYmluZCIsIm5leHQxSGFuZGxlciIsIm5leHQySGFuZGxlciIsIm5leHQzSGFuZGxlciIsInB1cmNoYXNlTWFkZSIsImV2ZW50Iiwic2V0U3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsImluZm8iLCJPYmplY3QiLCJhc3NpZ24iLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJ0aGVuIiwiY2F0Y2giLCJyZW5kZXIiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImFkZHJlc3MiLCJwaG9uZSIsImNyZWRpdENhcmQiLCJleHBpcnlEYXRlIiwiQ1ZWIiwiemlwQ29kZSIsIlBhZ2UxIiwiaGFuZGxlQ2hhbmdlIiwiaGFuZGxlQ2xpY2siLCJ2YWx1ZSIsInRhcmdldCIsIlBhZ2UyIiwiUGFnZTMiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLEdBQU4sU0FBa0JDLEtBQUssQ0FBQ0MsU0FBeEIsQ0FBaUM7QUFDL0JDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsVUFBVSxFQUFFLEVBREQ7QUFFWEMsTUFBQUEsZUFBZSxFQUFFLEtBRk47QUFHWEMsTUFBQUEsWUFBWSxFQUFFLEtBSEg7QUFJWEMsTUFBQUEsWUFBWSxFQUFFLEtBSkg7QUFLWEMsTUFBQUEsWUFBWSxFQUFFO0FBTEgsS0FBYjtBQU9BLFNBQUtDLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxD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QUEsT0FBTyxFQUFFLEtBQUtDO0FBQXRCLGNBYkYsQ0FGRixDQURGO0FBb0JEOztBQS9DZ0MiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld0FjY291bnQ6IHt9LFxuICAgICAgY2hlY2tvdXRDbGlja2VkOiBmYWxzZSxcbiAgICAgIHBhZ2UxQ2xpY2tlZDogZmFsc2UsXG4gICAgICBwYWdlMkNsaWNrZWQ6IGZhbHNlLFxuICAgICAgcGFnZTNDbGlja2VkOiBmYWxzZSxcbiAgICB9XG4gICAgdGhpcy5jaGVja091dEhhbmRsZXIgPSB0aGlzLmNoZWNrT3V0SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubmV4dDFIYW5kbGVyID0gdGhpcy5uZXh0MUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm5leHQySGFuZGxlciA9IHRoaXMubmV4dDJIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5uZXh0M0hhbmRsZXIgPSB0aGlzLm5leHQzSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHVyY2hhc2VNYWRlID0gdGhpcy5wdXJjaGFzZU1hZGUuYmluZCh0aGlzKTtcbiAgfVxuICBjaGVja091dEhhbmRsZXIoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtjaGVja291dENsaWNrZWQ6IHRydWV9KTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIG5leHQxSGFuZGxlcihpbmZvKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLm5ld0FjY291bnQsIGluZm8pO1xuICAgIHRoaXMuc2V0U3RhdGUoe3BhZ2UxQ2xpY2tlZDogdHJ1ZX0pO1xuICB9XG4gIG5leHQySGFuZGxlcihpbmZvKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLm5ld0FjY291bnQsIGluZm8pO1xuICAgIHRoaXMuc2V0U3RhdGUoe3BhZ2UyQ2xpY2tlZDogdHJ1ZX0pO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUubmV3QWNjb3VudCk7XG4gIH1cbiAgbmV4dDNIYW5kbGVyKGluZm8pIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLm5ld0FjY291bnQpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZS5uZXdBY2NvdW50LCBpbmZvKTtcbiAgICB0aGlzLnNldFN0YXRlKHtwYWdlM0NsaWNrZWQ6IHRydWV9KTtcbiAgICBjb25zb2xlLmxvZygnSlNPTiBvYmonLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUubmV3QWNjb3VudCkpO1xuICB9XG4gIHB1cmNoYXNlTWFkZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy9QdXQgYSBwb3N0IHJlcXVlc3QgaGVyZVxuICAgIGZldGNoKCcvcHJvZmlsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IHRoaXMuc3RhdGUubmV3QWNjb3VudCxcbiAgICAgIGhlYWRlcnM6e1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihjb25zb2xlLmxvZygnUG9zdCBzZW50JykpXG4gICAgLnRoZW4odGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdBY2NvdW50OiB7fSxcbiAgICAgIGNoZWNrb3V0Q2xpY2tlZDogZmFsc2UsXG4gICAgICBwYWdlMUNsaWNrZWQ6IGZhbHNlLFxuICAgICAgcGFnZTJDbGlja2VkOiBmYWxzZSxcbiAgICAgIHBhZ2UzQ2xpY2tlZDogZmFsc2UsfSkpXG4gICAgICAuY2F0Y2goY29uc29sZS5sb2coJ0ZhaWxlZCB0byBwb3N0JykpO1xuICAgIFxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jaGVja291dENsaWNrZWQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5jaGVja091dEhhbmRsZXJ9PkNoZWNrT3V0PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5wYWdlMUNsaWNrZWQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gPFBhZ2UxIG5leHQxSGFuZGxlcj17dGhpcy5uZXh0MUhhbmRsZXJ9Lz5cbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUucGFnZTJDbGlja2VkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIDxQYWdlMiBuZXh0MkhhbmRsZXI9e3RoaXMubmV4dDJIYW5kbGVyfSAvPlxuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5wYWdlM0NsaWNrZWQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gPFBhZ2UzIG5leHQzSGFuZGxlcj17dGhpcy5uZXh0M0hhbmRsZXJ9Lz5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgPGgxPkFDQ09VTlQgSU5GT1JNQVRJT048L2gxPlxuICAgICAgICA8dWw+XG4gICAgICAgICAgPGxpPiBOYW1lLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50Lm5hbWV9IDwvbGk+XG4gICAgICAgICAgPGxpPkVtYWlsLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50LmVtYWlsfTwvbGk+XG4gICAgICAgICAgPGxpPlBhc3N3b3JkLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50LnBhc3N3b3JkfTwvbGk+XG4gICAgICAgICAgPGxpPkFkZHJlc3MtIHt0aGlzLnN0YXRlLm5ld0FjY291bnQuYWRkcmVzc308L2xpPlxuICAgICAgICAgIDxsaT5QaG9uZSBOdW1iZXItIHt0aGlzLnN0YXRlLm5ld0FjY291bnQucGhvbmV9PC9saT5cbiAgICAgICAgICA8bGk+Q3JlZGl0IENhcmQgTnVtYmVyLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50LmNyZWRpdENhcmR9PC9saT5cbiAgICAgICAgICA8bGk+RXhwZXJhdGlvbiBEYXRlLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50LmV4cGlyeURhdGV9PC9saT5cbiAgICAgICAgICA8bGk+Q1ZWLSB7dGhpcy5zdGF0ZS5uZXdBY2NvdW50LkNWVn08L2xpPlxuICAgICAgICAgIDxsaT5aaXAgQ29kZS0ge3RoaXMuc3RhdGUubmV3QWNjb3VudC56aXBDb2RlfTwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5wdXJjaGFzZU1hZGV9PlB1cmNoYXNlPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuLy9cbmNsYXNzIFBhZ2UxIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICB9XG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHtuYW1lLCB2YWx1ZX0gPSBldmVudC50YXJnZXQ7XG4gICAgdGhpcy5zZXRTdGF0ZSh7W25hbWVdOnZhbHVlfSk7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucHJvcHMubmV4dDFIYW5kbGVyKHRoaXMuc3RhdGUpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmFtZTogJycsXG4gICAgICBlbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJydcbiAgICB9KVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgUGFnZSAxXG4gICAgICAgIDxmb3JtPlxuICAgICAgICAgIDxsYWJlbD5OYW1lXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT0nbmFtZScgdmFsdWU9e3RoaXMuc3RhdGUubmFtZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfS8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWw+IEVtYWlsXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT0nZW1haWwnIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9Lz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxsYWJlbD5QYXNzd29yZFxuICAgICAgICAgICAgPGlucHV0IG5hbWU9J3Bhc3N3b3JkJyB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfS8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9ID5OZXh0PC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuY2xhc3MgUGFnZTIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhZGRyZXNzOiAnJyxcbiAgICAgIHBob25lOiAnJ1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgY29uc3Qge25hbWUsIHZhbHVlfSA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLnNldFN0YXRlKHtbbmFtZV06IHZhbHVlfSk7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucHJvcHMubmV4dDJIYW5kbGVyKHRoaXMuc3RhdGUpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkcmVzczogJycsXG4gICAgICBwaG9uZTogJydcbiAgICB9KVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgUGFnZSAyXG4gICAgICAgIDxmb3JtPlxuICAgICAgICAgIDxsYWJlbD5BZGRyZXNzXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT0nYWRkcmVzcycgdmFsdWU9e3RoaXMuc3RhdGUuYWRkcmVzc30gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGxhYmVsPlBob25lIE51bWJlclxuICAgICAgICAgICAgPGlucHV0IG5hbWU9J3Bob25lJyB2YWx1ZT17dGhpcy5zdGF0ZS5waG9uZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5OZXh0PC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuY2xhc3MgUGFnZTMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjcmVkaXRDYXJkOiAnJywgXG4gICAgICBleHBpcnlEYXRlOiAnJywgXG4gICAgICBDVlY6ICcnLCBcbiAgICAgIHppcENvZGU6ICcnXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICB9XG4gIGhhbmRsZUNoYW5nZSgpIHtcbiAgICBjb25zdCB7bmFtZSwgdmFsdWV9ID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMuc2V0U3RhdGUoe1tuYW1lXTogdmFsdWV9KTtcbiAgfVxuICBoYW5kbGVDbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5uZXh0M0hhbmRsZXIodGhpcy5zdGF0ZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjcmVkaXRDYXJkOiAnJywgXG4gICAgICBleHBpcnlEYXRlOiAnJywgXG4gICAgICBDVlY6ICcnLCBcbiAgICAgIHppcENvZGU6ICcnXG4gICAgfSlcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIFBhZ2UgM1xuICAgICAgICA8Zm9ybT5cbiAgICAgICAgICA8bGFiZWw+IENyZWRpdCBDYXJkIE51bWJlclxuICAgICAgICAgICAgPGlucHV0IG5hbWU9J2NyZWRpdENhcmQnIHZhbHVlPXt0aGlzLnN0YXRlLmNyZWRpdENhcmR9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxsYWJlbD4gRXhwaXJ5IERhdGVcbiAgICAgICAgICAgIDxpbnB1dCBuYW1lPSdleHBpcnlEYXRlJyB2YWx1ZT17dGhpcy5zdGF0ZS5leHBpcnlEYXRlfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWw+IENWVlxuICAgICAgICAgICAgPGlucHV0IG5hbWU9J0NWVicgdmFsdWU9e3RoaXMuc3RhdGUuQ1ZWfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWw+IFppcCBDb2RlXG4gICAgICAgICAgICA8aW5wdXQgbmFtZT0nemlwQ29kZScgdmFsdWU9e3RoaXMuc3RhdGUuemlwQ29kZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5OZXh0PC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIl19